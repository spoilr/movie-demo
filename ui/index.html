<!DOCTYPE html>
<meta charset="utf-8">
<style>

.links line {
  stroke: #999;
  stroke-opacity: 0.6;
}

.nodes circle {
  stroke: #fff;
  stroke-width: 1.5px;
}

text {
  font-family: sans-serif;
  font-size: 10px;
}

</style>

<div float="left">
<svg width="800" height="600"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="display.js"></script>
<script>

display("demo_original.json");

</script>
</div>

<div class="submission" float="right">
  <button id="recommend_button">Recommend</button>
</div>

<script type="text/javascript">
    document.getElementById("recommend_button").onclick = function () {
        d3.select("svg").selectAll("*").remove();
        display("demo.json");
        var button = '<button id="interpreter_button" onclick="interpreter_function()">Why not "The interpreter"? I liked it</button>';
        $(this).parent().append(button);
        var elem = document.getElementById('recommend_button');
        elem.parentNode.removeChild(elem);
    };
    function interpreter_function() {
        alert("Similar users");
        alert("Reducing importance of similar users");
        d3.select("svg").selectAll("*").remove();
        display("demo_interpreter.json");
        var elem = document.getElementById('interpreter_button');
        elem.parentNode.removeChild(elem);
        var button = '<button id="recommend_button">Recommend</button>';
        $(".submission").append(button);
        document.getElementById("recommend_button").onclick = function () {
          d3.select("svg").selectAll("*").remove();
          display("demo_mystic.json");
          var button = '<button id="mystic_button" onclick="mystic_function()">Why "Mystic river"? I liked it</button>';
          $(this).parent().append(button);
          var elem = document.getElementById('recommend_button');
          elem.parentNode.removeChild(elem);
        };
    }
    function mystic_function() {
        alert("Sean Penn");
        alert("Increasing importance of Sean Penn");
        d3.select("svg").selectAll("*").remove();
        display("demo_mystic.json");
        var elem = document.getElementById('mystic_button');
        elem.parentNode.removeChild(elem);
        var button = '<button id="recommend_button">Recommend</button>';
        $(".submission").append(button);
        document.getElementById("recommend_button").onclick = function () {
          d3.select("svg").selectAll("*").remove();
          display("demo_finding.json");
          var button = '<button id="finding_button" onclick="finding_function()">Why "Finding Neverland"? I did not like it</button>';
          $(this).parent().append(button);
          var elem = document.getElementById('recommend_button');
          elem.parentNode.removeChild(elem);
        };
    }
    function finding_function() {
        alert("2 use cases. Select");
        var elem = document.getElementById('finding_button');
        elem.parentNode.removeChild(elem);
        var button_case1 = '<button id="finding_button_case1" onclick="finding_function_case1()">Why "Finding Neverland"? I did not like it Case1</button>';
        $(".submission").append(button_case1);
        var button_case2 = '<button id="finding_button_case2" onclick="finding_function_case2()">Why "Finding Neverland"? I did not like it Case2</button>';
        $(".submission").append(button_case2);
    }
    function finding_function_case1() {
        alert("Genre");
        alert("If the Genre does not matter, decrease its importance");
        d3.select("svg").selectAll("*").remove();
        display("demo_eternal.json");
    }
    function finding_function_case2() {
        alert("Genre");
        alert("Genre Drama");
        alert("Because you rated \"Catch me if you can\" with 5 and it is a Drama");
        alert("Updating rating for this film");
        d3.select("svg").selectAll("*").remove();
        display("demo_eternal.json");
    }
</script>

